<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>16:9 Iframe with Ad Space</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            font-family: Arial, Helvetica, sans-serif;
        }
        iframe {
            height: calc(100vh - 110px);
            aspect-ratio: 16 / 9;
            position: absolute;
            top: 20px;
            left: 50%;
            border-radius: 15px;
            transform: translateX(-50%);
        }
        .ad-space {
            position: absolute;
            top: calc(100vh - 80px);
            left: 50%;
            height: 80px;
            background-color: transparent;
            text-align: center;
            line-height: 60px;
            transform: translateX(-50%);
        }
        .ad {
            position: relative;
            width: 468px;
            height: 60px;
            background-color: #ccc;
            border: 1px solid gray;
            margin: 0 auto;
        }

        .ad .report-button {
            position: absolute;
            top: 0;
            right: 0;
            background-color: gray;
            border: none;
            cursor: pointer;
            font-size: 12px;
            color: white;
            text-decoration: underline;
            border-radius: 0 0 0 5px;
        }

        .ad .report-button:hover {
            color: #555;
        }

        .ad iframe {
            border-radius: 0;
            top: 0;
            height: 60px;
        }
    </style>
</head>
<body>

    <script>
        // Function to get query parameter
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Function to adjust iframe dimensions dynamically
        function adjustIframeSize() {
            const viewportHeight = window.innerHeight;
            const height = viewportHeight - 110;
            const width = (height / 9) * 16;
            const iframe = document.querySelector('iframe');
            iframe.style.height = `${height}px`;
            iframe.style.width = `${width}px`;
        }

        // Default fallback source
        let defaultSrc = '/gs/error.html';

        // Check if 'id' parameter exists and set iframe src accordingly
        let id = getQueryParam('id');
        let src = id ? `/gs/${id}.html` : defaultSrc;

        // Set iframe src dynamically
        window.onload = () => {
            const iframe = document.querySelector('iframe');
            iframe.setAttribute('src', src);
            adjustIframeSize();
        };

        // Adjust iframe size on window resize
        window.onresize = adjustIframeSize;
    </script>

    <iframe frameborder="0"></iframe>

    <div class="ad-space">
        <div class="ad">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'cf36f8ae2192a6d8d45e12ce90483134',
                    'format' : 'iframe',
                    'height' : 60,
                    'width' : 468,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/cf36f8ae2192a6d8d45e12ce90483134/invoke.js"></script>
            </div>
    </div>
    <script src="adb.js"></script>
</body>
</html>
